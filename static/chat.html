<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WhisPi</title>
   <link rel="stylesheet" href="/static/styles/chat.css">
  </head>
  <body>
    <!-- Message container for notifications -->
    <div id="messageContainer" class="message-container"></div>

    <div class="chat-container">
      <!-- Left Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">WhisPi</div>
        <div class="search-bar">
          <input
            type="text"
            class="search-input"
            placeholder="Search or start new chat"
          />
        </div>
        <div class="user-list">
        </div>
      </div>

      <!-- Right Side - Chat Area -->
      <div class="chat-area" id="chatArea">
        <div class="welcome-screen" id="welcomeScreen">
          <h2>ðŸ’¬ Welcome to Chat</h2>
          <p>Select a contact to start messaging</p>
        </div>

        <!-- Chat Header -->
        <div class="chat-header" id="chatHeader">
          <div class="user-avatar" id="chatAvatar">A</div>
          <div class="user-info">
            <div class="user-name" id="chatName">User</div>
            <div class="user-status-text"></div>
          </div>
        </div>

        <!-- Chat Messages -->
        <div class="chat-messages" id="chatMessages">
          <!-- Messages will be populated by JavaScript -->
        </div>

        <!-- Chat Input -->
        <div class="chat-input-container" id="chatInput">
          <div class="chat-input-wrapper">
            <textarea
              class="chat-input"
              id="messageInput"
              placeholder="Type a message..."
              rows="1"
            ></textarea>
            <button class="send-button" id="sendButton">âž”</button>
          </div>
        </div>
      </div>
    </div>


    <script src="/static/javascript/crypto.js"></script>
    <script src="/static/javascript/helper.js"></script>
    <script src="/static/javascript/messaging.js"></script>

    <script>
      document.addEventListener('mousemove', (e) => {
        const glow = document.body;
        glow.style.setProperty('--mouse-x', e.clientX + 'px');
        glow.style.setProperty('--mouse-y', e.clientY + 'px');
        
        glow.style.background = `
          #0a0a0a radial-gradient(300px circle at ${e.clientX}px ${e.clientY}px, 
          rgba(147, 51, 234, 0.1) 0%, 
          rgba(79, 70, 229, 0.05) 30%, 
          transparent 70%)
        `;
      });

      document.addEventListener('DOMContentLoaded', () => {
        const textarea = document.querySelector('.chat-input');
        if (textarea) {
          textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
          });
        }
      });

  
    </script>
  </body>
</html>